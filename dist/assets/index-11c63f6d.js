import{u as h,r as o,j as x,a as e,G as S,b as v,c as w,d as N,F as C,s as k,S as g,M as j}from"./index-6357b0ba.js";const L=({setQuery:t})=>{const{category:n}=h(),[s,l]=o.useState("");return x("form",{className:"text-[14px] lg:py-10 md:pt-9 md:pb-10 sm:pt-8 sm:pb-10  pt-6 pb-8 flex flex-row items-center justify-center",onSubmit:a=>{a.preventDefault(),s&&(t({search:s}),l(""))},children:[e("input",{type:"text",className:"py-[8px] pl-[20px] pr-[36px]  rounded-full outline-none w-[300px] md:w-[340px]  shadow-md transition-all duration-300 focus:shadow-sm text-[#666] focus:bg-[#ffffff] bg-[#fdfdfd] font-medium dark:bg-[#302d3a] dark:text-primary dark:focus:bg-[#474550]",onChange:a=>l(a.target.value),value:s,placeholder:`Search ${n==="movie"?"movies":"tv series"}`}),e("button",{type:"submit",className:"text-[18px] -ml-[32px] text-[#ff0000] z-[1]",children:e(S,{})})]})},M=({category:t})=>e("div",{style:{backgroundImage:`linear-gradient(to right, rgba(0,0,0,0.075), rgba(0,0,0,0.075)), url(${v})`,backgroundSize:"cover",backgroundPosition:"center"},className:"lg:h-[140px] md:h-[132px] sm:h-[114px] h-[96px] relative",children:e("h2",{className:"text-white font-nunito capitalize font-semibold md:text-xl sm:text-lg absolute md:top-[70%] sm:top-[65%] xs:top-[60%] top-[57.75%]  left-1/2 -translate-x-1/2  ",children:t==="movie"?"movies":"TV series"})}),z=()=>{const[t,n]=o.useState(1),[s,l]=o.useState([]),[m,a]=o.useState(!1),[u,b]=w(),{category:i}=h(),y=u.get("type")||"popular",f=u.get("search")||"",{data:r,isLoading:p,isFetching:c}=N({category:i,page:t,searchQuery:f,type:y});return o.useEffect(()=>{n(1),a(!0)},[i,f]),o.useEffect(()=>{p||c||r!=null&&r.results&&(t>1?l(d=>[...d,...r.results]):(l([...r.results]),a(!1)))},[r,c,p,t]),x(C,{children:[e(M,{category:String(i)}),x("section",{className:`${k} `,children:[e(L,{setQuery:b}),p||m?e(g,{isMoviesSliderLoader:!1}):e("div",{className:"flex flex-wrap xs:gap-4 gap-[14px] justify-center",children:s==null?void 0:s.map(d=>e("div",{className:"flex flex-col xs:gap-4 gap-2 xs:max-w-[170px] max-w-[124px] rounded-lg lg:mb-6 md:mb-5 sm:mb-4 mb-[10px]",children:e(j,{movie:d,category:String(i)})},d.id))}),c&&!m?e(g,{isMoviesSliderLoader:!1,className:"md:pt-8 sm:pt-7 pt-6"}):e("div",{className:"w-full flex items-center justify-center",children:e("button",{type:"button",onClick:()=>{n(t+1)},disabled:c,className:"sm:py-2 xs:py-[6px] py-1 sm:px-4 xs:px-3 px-[10.75px] bg-[#ff0000] text-gray-50 rounded-full md:text-[15.25px] sm:text-[14.75px] xs:text-[14px] text-[12.75px] shadow-md hover:-translate-y-1 transition-all duration-300 font-medium font-nunito lg:my-8 my-7",children:"Load more"})})]})]})};export{z as default};
