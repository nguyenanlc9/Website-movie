import{g as b,n as O,r as $,e as L,f as M,h as k,j as v,i as y,m as S,k as h,a as l,l as I,p as P,w as E,P as F,o as C,q as H,d as j,L as D,E as W,F as _,t as q,v as z}from"./index-6357b0ba.js";function B({swiper:a,extendParams:r,on:s,emit:e}){let t;a.autoplay={running:!1,paused:!1},r({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});function o(){if(!a.size){a.autoplay.running=!1,a.autoplay.paused=!1;return}const n=a.slides.eq(a.activeIndex);let c=a.params.autoplay.delay;n.attr("data-swiper-autoplay")&&(c=n.attr("data-swiper-autoplay")||a.params.autoplay.delay),clearTimeout(t),t=O(()=>{let i;a.params.autoplay.reverseDirection?a.params.loop?(a.loopFix(),i=a.slidePrev(a.params.speed,!0,!0),e("autoplay")):a.isBeginning?a.params.autoplay.stopOnLastSlide?u():(i=a.slideTo(a.slides.length-1,a.params.speed,!0,!0),e("autoplay")):(i=a.slidePrev(a.params.speed,!0,!0),e("autoplay")):a.params.loop?(a.loopFix(),i=a.slideNext(a.params.speed,!0,!0),e("autoplay")):a.isEnd?a.params.autoplay.stopOnLastSlide?u():(i=a.slideTo(0,a.params.speed,!0,!0),e("autoplay")):(i=a.slideNext(a.params.speed,!0,!0),e("autoplay")),(a.params.cssMode&&a.autoplay.running||i===!1)&&o()},c)}function d(){return typeof t<"u"||a.autoplay.running?!1:(a.autoplay.running=!0,e("autoplayStart"),o(),!0)}function u(){return!a.autoplay.running||typeof t>"u"?!1:(t&&(clearTimeout(t),t=void 0),a.autoplay.running=!1,e("autoplayStop"),!0)}function f(n){a.autoplay.running&&(a.autoplay.paused||(t&&clearTimeout(t),a.autoplay.paused=!0,n===0||!a.params.autoplay.waitForTransition?(a.autoplay.paused=!1,o()):["transitionend","webkitTransitionEnd"].forEach(c=>{a.$wrapperEl[0].addEventListener(c,p)})))}function m(){const n=b();n.visibilityState==="hidden"&&a.autoplay.running&&f(),n.visibilityState==="visible"&&a.autoplay.paused&&(o(),a.autoplay.paused=!1)}function p(n){!a||a.destroyed||!a.$wrapperEl||n.target===a.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach(c=>{a.$wrapperEl[0].removeEventListener(c,p)}),a.autoplay.paused=!1,a.autoplay.running?o():u())}function g(){a.params.autoplay.disableOnInteraction?u():(e("autoplayPause"),f()),["transitionend","webkitTransitionEnd"].forEach(n=>{a.$wrapperEl[0].removeEventListener(n,p)})}function x(){a.params.autoplay.disableOnInteraction||(a.autoplay.paused=!1,e("autoplayResume"),o())}function N(){a.params.autoplay.pauseOnMouseEnter&&(a.$el.on("mouseenter",g),a.$el.on("mouseleave",x))}function T(){a.$el.off("mouseenter",g),a.$el.off("mouseleave",x)}s("init",()=>{a.params.autoplay.enabled&&(d(),b().addEventListener("visibilitychange",m),N())}),s("beforeTransitionStart",(n,c,i)=>{a.autoplay.running&&(i||!a.params.autoplay.disableOnInteraction?a.autoplay.pause(c):u())}),s("sliderFirstMove",()=>{a.autoplay.running&&(a.params.autoplay.disableOnInteraction?u():f())}),s("touchEnd",()=>{a.params.cssMode&&a.autoplay.paused&&!a.params.autoplay.disableOnInteraction&&o()}),s("destroy",()=>{T(),a.autoplay.running&&u(),b().removeEventListener("visibilitychange",m)}),Object.assign(a.autoplay,{pause:f,run:o,start:d,stop:u})}const G=({movie:a})=>{const{getTrailerId:r,setIsModalOpen:s}=L(),e=M(),{fadeDown:t,staggerContainer:o}=k(),{overview:d,original_title:u,poster_path:f,id:m}=a,p=()=>{r(m),s(!0)},g=()=>{e(`/movie/${m}`)};return v("div",{className:y(S," mx-auto flex items-center h-full  flex-row lg:gap-32 sm:gap-20"),children:[v(h.div,{variants:o(.2,.3),initial:"hidden",animate:"show",className:"text-gray-300 sm:max-w-[80vw] max-w-[90vw]  md:max-w-[420px] font-nunito flex flex-col sm:gap-5 xs:gap-3 gap-[10px] sm:mb-8",children:[l(h.h2,{variants:t,className:y(I),children:u}),l(h.p,{variants:t,className:P,children:d.length>180?`${d.substring(0,180)}...`:d}),v(h.div,{variants:t,className:"flex flex-row items-center  gap-4 sm:mt-6 xs:mt-5 mt-[18px] ",children:[l("button",{type:"button",name:"watch-trailer",className:y(E,"text-shadow watch-trailer"),onClick:p,children:"Watch trailer"}),l("button",{type:"button",name:"watch-now",className:y(E,` bg-[#ff0000] shadow-glow
             text-shadow text-secColor `),onClick:g,children:"Watch now"})]})]}),l(F,{title:u,posterPath:f,className:"mr-auto"})]})},R=$.memo(G),V=({movies:a})=>l(C,{className:"mySwiper lg:h-screen sm:h-[640px] xs:h-[520px] h-[460px] w-full",loop:!0,slidesPerView:1,autoplay:{delay:1e4,disableOnInteraction:!1},modules:[B],children:a.map(r=>l(H,{style:{backgroundImage:`
              linear-gradient(to top, rgba(0,0,0,0.6), rgba(0,0,0,0.5)),url('https://image.tmdb.org/t/p/original/${r.backdrop_path}'`,backgroundPosition:"center",backgroundSize:"cover"},className:" h-full w-full ",children:({isActive:s})=>s?l(R,{movie:r}):null},r.id))}),Q=()=>{const{data:a,isLoading:r,isError:s}=j({category:"movie",type:"popular",page:1});if(r)return l(D,{});if(s)return l(W,{error:"Unable to fetch the movies! "});const e=a==null?void 0:a.results.slice(0,5);return v(_,{children:[l(V,{movies:e}),l("div",{className:y(S,"lg:mt-12 md:mt-8 sm:mt-6 xs:mt-4 mt-2"),children:q.map(({title:t,category:o,type:d})=>l(z,{title:t,category:o,type:d},t))})]})};export{Q as default};
