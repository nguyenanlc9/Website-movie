import{r as c,x as P,h as y,j as n,F as N,a as e,k as i,I as E,i as u,m as w,u as M,y as F,L as D,E as G,P as I,p as L,v as Q,l as V}from"./index-6357b0ba.js";const _=({casts:s})=>{const r=P("(min-width: 768px"),{fadeDown:a,staggerContainer:l}=y(),o=s.slice(0,4);return o.length===0?null:n(N,{children:[e(i.h3,{variants:a,className:"text-secColor font-bold md:text-[18px] sm:text-[16.75px] xs:text-[15.75px] text-[14.75px]",children:"Top Casts"}),e(i.div,{variants:l(.2,1),initial:"hidden",animate:"show",className:"flex flex-wrap md:gap-4 sm:gap-[14px] gap-2  sm:-mt-2 xs:-mt-[6px] -mt-1",children:o.map(g=>{const{id:t,profile_path:m,name:x}=g;return n(i.figure,{variants:a,className:"flex flex-col justify-start gap-2",children:[e("div",{className:"md:h-[96px] md:w-[64px] h-[54px] w-[40px]",children:e(E,{width:r?64:40,height:r?96:54,src:`https://image.tmdb.org/t/p/original/${m}`,alt:x,className:" object-cover rounded-md shadow-md"})}),e("h4",{className:"text-gray-300 md:text-[12px] sm:text-[10.75px] text-[10px] md:max-w-[64px] text-center font-semibold sm:-mt-0 leading-snug max-w-[40px]",children:x})]},t)})})]})},z=c.memo(_,(s,r)=>{var a,l;return((a=s.casts[0])==null?void 0:a.id)===((l=r.casts[0])==null?void 0:l.id)}),H=({name:s})=>e("span",{className:`genre
       md:text-[12.75px] sm:text-[12px] xs:text-[11.75px] text-[10.75px]  sm:py-1 py-[2.75px] sm:px-3 px-[10px] rounded-full dark:text-gray-300`,children:s}),T=c.memo(H),W=({videos:s})=>{const r=s.slice(0,2);return e("section",{className:u(w," flex flex-col lg:gap-16 md:gap-14 sm:gap-12 xs:gap-10 gap-8 lg:py-24 md:py-16 sm:py-12 xs:py-10 py-8"),children:r.map(a=>n("div",{className:"sm:w-[80%] w-[90%] mx-auto flex flex-col md:gap-2 sm:gap-[6px] xs:gap-1 gap-[2px]",children:[e("h2",{className:"dark:text-secColor text-gray-800 font-nunito font-semibold lg:text-[24px] md:text-[22.75px] sm:text-[18.75px] xs:text-[18px] text-[16.75px] mb-1",children:a.name}),e("div",{className:"w-[100%] lg:h-[480px] md:h-[420px] sm:h-[320px] h-[210px] rounded-md mx-auto shadow-lg",children:e("iframe",{src:`https://www.youtube.com/embed/${a.key}?enablejsapi=1&origin=http://127.0.0.1:5173/`,title:"trailer",width:"100%",height:"100%",className:"rounded-md",allowFullScreen:!0})})]},a.id))})},A=()=>{const{category:s,id:r}=M(),[a,l]=c.useState(!1),{fadeDown:o,staggerContainer:g}=y(),{data:t,isLoading:m,isFetching:x,isError:v}=F({category:String(s),id:Number(r)});c.useEffect(()=>(document.title=(t!=null&&t.title||t!=null&&t.name)&&!m?t.title||t.name:"tMovies",()=>{document.title="tMovies"}),[t==null?void 0:t.title,m,t==null?void 0:t.name]);const S=()=>l(d=>!d);if(m||x)return e(D,{});if(v)return e(G,{error:"Something went wrong!"});const{title:f,poster_path:b,overview:p,name:k,genres:$,videos:C,credits:h}=t,j={backgroundImage:`linear-gradient(to top, rgba(0,0,0), rgba(0,0,0,0.98),rgba(0,0,0,0.8) ,rgba(0,0,0,0.4)),url('https://image.tmdb.org/t/p/original/${b}'`,backgroundPosition:"top",backgroundSize:"cover"};return n(N,{children:[e("section",{className:"w-full",style:j,children:n("div",{className:`${w} lg:py-36 sm:py-[136px] sm:pb-28 xs:py-28 xs:pb-12 pt-24 pb-8 flex flex-row lg:gap-12 md:gap-10 gap-8 justify-center `,children:[e(I,{title:f,posterPath:b}),n(i.div,{variants:g(.2,.4),initial:"hidden",animate:"show",className:"text-gray-300 sm:max-w-[80vw] max-w-[90vw]  md:max-w-[520px] font-nunito flex flex-col lg:gap-5 sm:gap-4 xs:gap-[14px] gap-3 mb-8 flex-1",children:[e(i.h2,{variants:o,className:u(V," md:max-w-[420px]"),children:f||k}),e(i.ul,{variants:o,className:"flex flex-row items-center  sm:gap-[14px] xs:gap-3 gap-[6px] flex-wrap",children:$.map(d=>e(T,{name:d.name},d.id))}),n(i.p,{variants:o,className:L,children:[e("span",{children:p.length>280?`${a?p:`${p.slice(0,280)}...`}`:p}),e("button",{type:"button",className:u("font-bold ml-1 hover:underline transition-all duration-300",p.length>280?"inline-block":"hidden"),onClick:S,children:a?"show less":"show more"})]}),e(z,{casts:(h==null?void 0:h.cast)||[]})]})]})}),e(W,{videos:C.results}),e(Q,{title:`Similar ${s==="movie"?"movies":"series"}`,category:String(s),className:`${w}`,id:Number(r),showSimilarShows:!0})]})};export{A as default};
